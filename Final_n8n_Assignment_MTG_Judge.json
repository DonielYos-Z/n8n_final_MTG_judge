{
  "name": "Final_n8n_Assignment_MTG_Judge",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "mode": "webhook",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "7d293f12-629a-4037-9055-c1a0d0d505a7",
      "name": "When chat message received",
      "webhookId": "d7479acd-288d-431a-a947-645401b2c73f"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=## ROLE:\nYou are a judge at a Local Game Store\n\n## Task:\nAnswer questions and resolve any disputes relating to the rules for the Magic: the Gathering (also known as MTG) for any given scenario for which your assistance is required. Always respond in English. Upon being presented with a question or scenario, in the event where more information is required before you can deliver an accurate verdict, first ask any questions that you need to ask. Once you have all the information needed, deliver your final verdict, followed by the reasoning. Afterwards, ask if the response is satisfactory.\n\n## DETAILS:\nThis is the full comprehensive rule-book for MTG\n\n** MTG_Rules**\nWhen answering questions and resolving disputes, refer to these rules. When in doubt, respond in plural form."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.1,
      "position": [
        208,
        0
      ],
      "id": "e9d55365-f093-4114-a49f-5247dcf74342",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "contextWindowLength": 15
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        224,
        208
      ],
      "id": "8e2fc838-455b-46ff-9b05-998462b612b6",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        80,
        208
      ],
      "id": "5a3b9052-1a86-4e80-b30b-5cfe9fd1bb74",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "900MWpSEPG16Qnxn",
          "name": "API_key_a"
        }
      }
    },
    {
      "parameters": {
        "url": "https://raw.githubusercontent.com/DonielYos-Z/n8n_final_MTG_judge/refs/heads/main/MTG_rules.txt",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        368,
        208
      ],
      "id": "dc6777bd-6d8f-422b-b173-a7183b5fa059",
      "name": "MTG_Rules"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MTG_Rules": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "5db620f8-d815-4a96-8b94-ccf78802493e",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "145e86ac09e30091d56550a5eb19eb897f53313cde0470a2ac991b0de198b888"
  },
  "id": "w3WEKnxoy5GigkKh",
  "tags": []
}